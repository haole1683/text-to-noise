07/11/2023 08:48:14 - INFO - __main__ - ***** Running training *****
07/11/2023 08:48:14 - INFO - __main__ -   Num examples = 591753
07/11/2023 08:48:14 - INFO - __main__ -   Num Epochs = 1
07/11/2023 08:48:14 - INFO - __main__ -   Instantaneous batch size per device = 6
07/11/2023 08:48:14 - INFO - __main__ -   Total train batch size (w. parallel, distributed & accumulation) = 6
07/11/2023 08:48:14 - INFO - __main__ -   Gradient Accumulation steps = 1
07/11/2023 08:48:14 - INFO - __main__ -   Total optimization steps = 15000
Steps:   0%|                                                                                                                                                        | 0/15000 [00:00<?, ?it/s]Traceback (most recent call last):
  File "train1.py", line 1083, in <module>
    main()
  File "train1.py", line 900, in main
    for step, batch in enumerate(train_dataloader):
  File "/remote-home/songtianwei/conda/envs/pytorch2/lib/python3.8/site-packages/accelerate/data_loader.py", line 377, in __iter__
    current_batch = next(dataloader_iter)
  File "/remote-home/songtianwei/conda/envs/pytorch2/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 633, in __next__
    data = self._next_data()
  File "/remote-home/songtianwei/conda/envs/pytorch2/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 677, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/remote-home/songtianwei/conda/envs/pytorch2/lib/python3.8/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/remote-home/songtianwei/conda/envs/pytorch2/lib/python3.8/site-packages/datasets/arrow_dataset.py", line 2782, in __getitems__
    batch = self.__getitem__(keys)
  File "/remote-home/songtianwei/conda/envs/pytorch2/lib/python3.8/site-packages/datasets/arrow_dataset.py", line 2778, in __getitem__
    return self._getitem(key)
  File "/remote-home/songtianwei/conda/envs/pytorch2/lib/python3.8/site-packages/datasets/arrow_dataset.py", line 2763, in _getitem
    formatted_output = format_table(
  File "/remote-home/songtianwei/conda/envs/pytorch2/lib/python3.8/site-packages/datasets/formatting/formatting.py", line 624, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/remote-home/songtianwei/conda/envs/pytorch2/lib/python3.8/site-packages/datasets/formatting/formatting.py", line 400, in __call__
    return self.format_batch(pa_table)
  File "/remote-home/songtianwei/conda/envs/pytorch2/lib/python3.8/site-packages/datasets/formatting/formatting.py", line 510, in format_batch
    return self.transform(batch)
  File "train1.py", line 763, in preprocess_train
    images = [image.convert("RGB") for image in examples[image_column]]
  File "train1.py", line 763, in <listcomp>
    images = [image.convert("RGB") for image in examples[image_column]]
AttributeError: 'str' object has no attribute 'convert'
['/remote-home/songtianwei/.cache/huggingface/datasets/downloads/extracted/2eaa9620da3c5978de7bf66708380d3175d70ab7bb370443574b53d85fe1ebf0/train2017/000000020389.jpg', '/remote-home/songtianwei/.cache/huggingface/datasets/downloads/extracted/2eaa9620da3c5978de7bf66708380d3175d70ab7bb370443574b53d85fe1ebf0/train2017/000000434897.jpg', '/remote-home/songtianwei/.cache/huggingface/datasets/downloads/extracted/2eaa9620da3c5978de7bf66708380d3175d70ab7bb370443574b53d85fe1ebf0/train2017/000000572978.jpg', '/remote-home/songtianwei/.cache/huggingface/datasets/downloads/extracted/2eaa9620da3c5978de7bf66708380d3175d70ab7bb370443574b53d85fe1ebf0/train2017/000000172690.jpg', '/remote-home/songtianwei/.cache/huggingface/datasets/downloads/extracted/2eaa9620da3c5978de7bf66708380d3175d70ab7bb370443574b53d85fe1ebf0/train2017/000000391397.jpg', '/remote-home/songtianwei/.cache/huggingface/datasets/downloads/extracted/2eaa9620da3c5978de7bf66708380d3175d70ab7bb370443574b53d85fe1ebf0/train2017/000000182096.jpg']
<class 'list'>
False